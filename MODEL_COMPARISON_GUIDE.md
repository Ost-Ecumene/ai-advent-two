# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é –º–æ–¥–µ–ª–µ–π

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ç—Ä–µ–º—è –º–æ–¥–µ–ª—è–º–∏ —Ä–∞–∑–Ω–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏—Ö –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º:
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞** (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤** (prompt + completion)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å** (–≤ –¥–æ–ª–ª–∞—Ä–∞—Ö –°–®–ê)

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

### 1. –ë—é–¥–∂–µ—Ç–Ω–∞—è –º–æ–¥–µ–ª—å (BUDGET)
- **–ú–æ–¥–µ–ª—å**: `meta-llama/llama-3.2-3b-instruct:free`
- **–ò–º—è**: Llama 3.2 3B (Free)
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –∏–∑ –Ω–∞—á–∞–ª–∞ —Å–ø–∏—Å–∫–∞ HuggingFace, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

### 2. –°—Ä–µ–¥–Ω—è—è –º–æ–¥–µ–ª—å (MEDIUM)
- **–ú–æ–¥–µ–ª—å**: `openai/gpt-4o-mini`
- **–ò–º—è**: GPT-4o Mini
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: $0.15/1M prompt —Ç–æ–∫–µ–Ω–æ–≤, $0.60/1M completion —Ç–æ–∫–µ–Ω–æ–≤
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –º–µ–∂–¥—É —Ü–µ–Ω–æ–π –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º, –æ—Ç OpenAI

### 3. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å (ADVANCED)
- **–ú–æ–¥–µ–ª—å**: `anthropic/claude-3.5-sonnet`
- **–ò–º—è**: Claude 3.5 Sonnet
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: $3.0/1M prompt —Ç–æ–∫–µ–Ω–æ–≤, $15.0/1M completion —Ç–æ–∫–µ–Ω–æ–≤
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–æ–ø–æ–≤–∞—è –º–æ–¥–µ–ª—å —Å –ª—É—á—à–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º –æ—Ç–≤–µ—Ç–æ–≤

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
–í –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ —á–∞—Ç–∞ –µ—Å—Ç—å —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏:
- **–ë—é–¥–∂–µ—Ç** - –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å
- **–°—Ä–µ–¥–Ω—è—è** - –±–∞–ª–∞–Ω—Å —Ü–µ–Ω—ã –∏ –∫–∞—á–µ—Å—Ç–≤–∞
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

–í—ã–±—Ä–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 2. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
1. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É (0.0 - 2.0) –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫
–ü–æ–¥ –∫–∞–∂–¥—ã–º –æ—Ç–≤–µ—Ç–æ–º –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏:
- üìä **–ú–µ—Ç—Ä–∏–∫–∏**
- ‚è±Ô∏è **–í—Ä–µ–º—è**: –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- üé´ **–¢–æ–∫–µ–Ω—ã**: –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ + —Ä–∞–∑–±–∏–≤–∫–∞ (prompt/completion)
- üí∞ **–°—Ç–æ–∏–º–æ—Å—Ç—å**: —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ (–∏–ª–∏ "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ")

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è:

1. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å**, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   ```
   –†–∞—Å—Å–∫–∞–∂–∏ –æ –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
   ```

2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ç—Ä—ë—Ö –º–æ–¥–µ–ª—è—Ö**:
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ "–ë—é–¥–∂–µ—Ç" ‚Üí –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ "–°—Ä–µ–¥–Ω—è—è" ‚Üí –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è" ‚Üí –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏

3. **–°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
   - –°—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
   - –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ (–ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å, –ø–æ–ª–Ω–æ—Ç–∞, —Ç–æ—á–Ω–æ—Å—Ç—å)

4. **–°–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥—ã**:
   - –ö–∞–∫–∞—è –º–æ–¥–µ–ª—å –±—ã—Å—Ç—Ä–µ–µ?
   - –ö–∞–∫–∞—è –º–æ–¥–µ–ª—å —ç–∫–æ–Ω–æ–º–Ω–µ–µ –ø–æ —Ç–æ–∫–µ–Ω–∞–º?
   - –ö–∞–∫–∞—è –º–æ–¥–µ–ª—å –¥–∞–µ—Ç –ª—É—á—à–∏–π –æ—Ç–≤–µ—Ç?
   - –°—Ç–æ–∏—Ç –ª–∏ –ø–µ—Ä–µ–ø–ª–∞—Ç–∞ –∑–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é –º–æ–¥–µ–ª—å?

## –ë—é–¥–∂–µ—Ç

–£ –≤–∞—Å –µ—Å—Ç—å $5 –Ω–∞ OpenRouter. –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:
- **–ë—é–¥–∂–µ—Ç–Ω–∞—è**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°—Ä–µ–¥–Ω—è—è**: ~$0.0001-0.0003 –∑–∞ —Ç–∏–ø–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è**: ~$0.001-0.005 –∑–∞ —Ç–∏–ø–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å

–° –±—é–¥–∂–µ—Ç–æ–º $5 –≤—ã –ª–µ–≥–∫–æ —Å–º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Ç—ã—Å—è—á–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å—Ä–µ–¥–Ω–µ–π –º–æ–¥–µ–ª–∏ (GPT-4o Mini) –∏ –¥–µ—Å—è—Ç–∫–∏ –∫ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π (Claude 3.5 Sonnet).

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

1. **ChatConfig.kt** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
2. **MessageMetrics.kt** - –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–µ—Ç—Ä–∏–∫
3. **ChatResponseDto.kt** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–∫–µ–Ω–∞—Ö –∏–∑ API
4. **ChatRepositoryImpl.kt** - –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫
5. **ChatViewModel.kt** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±–æ—Ä–æ–º –º–æ–¥–µ–ª–∏
6. **ChatScreen.kt** - UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏
7. **MessagesList.kt** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

### –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏

–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
```kotlin
cost = (promptTokens √ó promptPrice + completionTokens √ó completionPrice) / 1_000_000
```

–¶–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `ChatConfig.ModelPricing.pricing` –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω—ã.

## API –∫–ª—é—á

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω API –∫–ª—é—á OpenRouter –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

